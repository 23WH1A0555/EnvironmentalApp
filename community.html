<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Community Hub - Waste Management</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" />
  
  <style>
    .event-card, .forum-post, .volunteer-card {
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      border: none;
    }
    body {
    background: url('pic.jpg') no-repeat center center fixed;
    background-size: cover;
    color: black !important;
}
    .map-container {
      height: 300px;
      margin-bottom: 20px;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }
    #communityMap {
      height: 100%;
      width: 100%;
    }
    .fallback-map {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Hyderabad_Hussain_Sagar_Lake_Aerial_View.jpg/640px-Hyderabad_Hussain_Sagar_Lake_Aerial_View.jpg') center center / cover no-repeat;
      z-index: 0;
    }
    .badge-category {
      background-color: #2e856e;
    }
    .tab-content {
      padding: 20px 0;
    }
    .card-header {
      background-color: #2e856e;
  
    }
    h2, h4 {
      color: #2e856e;
      font-weight: 600;
    }
    .btn-primary {
      background-color: #2e856e;
      border-color: #2e856e;
    }
    .btn-outline-secondary {
      color: #2e856e;
      border-color: #2e856e;
    }
    .btn-outline-secondary:hover {
      background-color: #2e856e;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container mt-3">
    <a href="dashboard.html" class="btn btn-outline-secondary mb-3">
      <i class="bi bi-arrow-left"></i> Dashboard
    </a>
    <h2 class="text-center mb-4">Hyderabad Community Hub</h2>

    <ul class="nav nav-tabs" id="communityTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="events-tab" data-bs-toggle="tab" data-bs-target="#events" type="button" role="tab">Events</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="forum-tab" data-bs-toggle="tab" data-bs-target="#forum" type="button" role="tab">Forum</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="volunteer-tab" data-bs-toggle="tab" data-bs-target="#volunteer" type="button" role="tab">Volunteer</button>
      </li>
    </ul>

    <div class="tab-content" id="communityTabContent">
      <!-- Events Tab -->
      <div class="tab-pane fade show active" id="events" role="tabpanel">
        <div class="map-container">
          <div id="communityMap"></div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="card event-card">
              <div class="card-header">
                <h5>Hussain Sagar Lake Cleanup</h5>
                <span class="badge bg-light text-dark">June 18</span>
              </div>
              <div class="card-body">
                <p><i class="bi bi-clock"></i> 7:00 AM - 11:00 AM</p>
                <p><i class="bi bi-geo-alt"></i> Necklace Road, Hyderabad</p>
                <p>Help clean the iconic Hussain Sagar lake shoreline</p>
                <button class="btn btn-sm btn-primary mt-2 btn-join">Join</button>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="card event-card">
              <div class="card-header">
                <h5>Waste Segregation Workshop</h5>
                <span class="badge bg-light text-dark">June 25</span>
              </div>
              <div class="card-body">
                <p><i class="bi bi-clock"></i> 4:00 PM - 6:00 PM</p>
                <p><i class="bi bi-geo-alt"></i> HITEC City Community Hall</p>
                <p>Learn proper waste segregation techniques</p>
                <button class="btn btn-sm btn-primary mt-2 btn-join">Join</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Forum Tab -->
      <div class="tab-pane fade" id="forum" role="tabpanel">
        <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#newPostModal">New Post</button>
        <div class="card forum-post">
          <div class="card-header">
            <h5>Plastic Collection Points in Gachibowli?</h5>
            <small>Posted 1 day ago</small>
          </div>
          <div class="card-body">
            <p>Looking for plastic waste collection centers near Gachibowli area...</p>
            <button class="btn btn-sm btn-outline-secondary">7 comments</button>
          </div>
        </div>

        <div class="card forum-post">
          <div class="card-header">
            <h5>Best E-Waste Recyclers in Hyderabad</h5>
            <small>Posted 5 days ago</small>
          </div>
          <div class="card-body">
            <p>Share your experiences with e-waste disposal companies...</p>
            <button class="btn btn-sm btn-outline-secondary">14 comments</button>
          </div>
        </div>
      </div>

      <!-- Volunteer Tab -->
      <div class="tab-pane fade" id="volunteer" role="tabpanel">
        <div class="card volunteer-card">
          <div class="card-header">
            <h5>GHMC Recycling Center Volunteer</h5>
          </div>
          <div class="card-body">
            <p><i class="bi bi-clock"></i> 5 hrs/week (flexible)</p>
            <p><i class="bi bi-geo-alt"></i> Secunderabad Sorting Facility</p>
            <p>Help sort recyclables at GHMC's main recycling center</p>
            <button class="btn btn-sm btn-primary mt-2">Apply</button>
          </div>
        </div>

        <div class="card volunteer-card">
          <div class="card-header">
            <h5>Community Composting Leader</h5>
          </div>
          <div class="card-body">
            <p><i class="bi bi-clock"></i> 3 hrs/week</p>
            <p><i class="bi bi-geo-alt"></i> Banjara Hills</p>
            <p>Teach residents about composting in apartment complexes</p>
            <button class="btn btn-sm btn-primary mt-2">Apply</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Join Details Modal -->
  <div class="modal fade" id="joinDetailsModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Join Event</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" class="form-control mb-2" id="joinName" placeholder="Full Name">
          <input type="email" class="form-control mb-2" id="joinEmail" placeholder="Email Address">
          <input type="tel" class="form-control mb-2" id="joinPhone" placeholder="Phone Number">
          <textarea class="form-control" id="joinMessage" rows="3" placeholder="Any comments or additional info?"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="submitJoinDetails">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <!-- New Post Modal -->
  <div class="modal fade" id="newPostModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">New Post</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" class="form-control mb-2" placeholder="Title">
          <textarea class="form-control" rows="3" placeholder="What would you like to share?"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary">Post</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const joinModal = new bootstrap.Modal(document.getElementById("joinDetailsModal"));

      document.querySelectorAll(".btn-join").forEach(button => {
        button.addEventListener("click", () => {
          joinModal.show();
        });
      });

      document.getElementById("submitJoinDetails").addEventListener("click", () => {
        const name = document.getElementById("joinName").value;
        const email = document.getElementById("joinEmail").value;
        const phone = document.getElementById("joinPhone").value;
        const message = document.getElementById("joinMessage").value;

        console.log({ name, email, phone, message });

        joinModal.hide();
        alert("Thank you for joining! We will send you details soon.");
      });

      try {
        var map = L.map('communityMap').setView([17.385044, 78.486671], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        L.marker([17.385044, 78.486671]).addTo(map)
          .bindPopup('Hussain Sagar Lake')
          .openPopup();
      } catch (e) {
        document.getElementById("communityMap").innerHTML = '<div class="fallback-map"></div>';
      }
    });
  </script>
</body>
</html>
